---
layout: post
title:  "Код в фильмах: Железный человек (Iron Man) 2008"
date:   2025-10-23 00:00:00
categories: [movie, code]
---

![]({{site.url}}/images/iron-man-movie-2008/cover.webp)


В этом фильме много всякого происходит на экране, но, к сожалению, текст настолько мыльный, что разобрать мало что получается. Но есть и интересное.

В самом начале сцена, где Тони тюнит двигатель:

![]({{site.url}}/images/iron-man-movie-2008/001.webp)

Слева внизу нечёткие, но явные фрагменты x86-ассемблера:

![]({{site.url}}/images/iron-man-movie-2008/002.webp)

Это фрагмент программы, реализующей [протокол последовательной передачи данных](https://web.archive.org/web/20241205010540/https://www.beroset.com/asm/slip.asm). Тони через компьютер настраивает режимы работы двигателя?

```asm
        SEND_CHAR SLIP_END
        jcxz @@bailout
@@nextchar:
        lodsb
        cmp al,SLIP_END
        jne @@check_esc
        SEND_CHAR SLIP_ESC
        mov al,SLIP_ESC_END
        jmp @@ordinary
```

Во второй половине фильма тоже есть фрагмент с ассемблером.

![]({{site.url}}/images/iron-man-movie-2008/006.webp)

Когда Пеппер листает документы в секретной папке "`SECTOR_16`", слева на некоторых изображениях костюма есть панель `ASSEMBLER DECODING`, где действительно отображён листинг ассемблерных команд. На первой картинке вместо операндов написано "`N/A`"

![]({{site.url}}/images/iron-man-movie-2008/008.webp)

а затем операнды проявляются по мере отображения надписи "`File Access...`"

![]({{site.url}}/images/iron-man-movie-2008/007.webp)

В итоге это какой-то `RISC`, но последовательность команд бестолковая. Тупой рандом или отсылка к чему-то?

![]({{site.url}}/images/iron-man-movie-2008/009.webp)

```asm
LW    Z1,W2(Z0)
LW    Z2,W3(Z0)
NOP
NOP
ADD   &3,&1,&2
SUB   #4,Q1,Q2
SLL   &5,*1,1&
SRL   -06,+2,16
CMPL  -7,+3
OR    -11,+5,=2
SW    ++1,W4(=0)
ADDI  [8,W1]
NOP
NOP
LW    &9,4(&8)
ADDI  &10,8(&8)
NOP
NOP
SW    Q3,0(Q10)

WORD  0x11111111
WORD  0x22222222
WORD  0x33333333
WORD  0x44444444
```

Но самое интересное происходит в начале фильма, между этими сценами. Когда Тони попадает в плен, он собирает первый прототип робота. В момент первого запуска на экране чётко виден код на `C`, который и на самом деле является кодом для управления роботами. Вот только роботы эти небольшие. Это код для управления деталями конструкторов `LEGO Technic` (`Mindstorms`).

![]({{site.url}}/images/iron-man-movie-2008/005.webp)

На скриншоте - фрагмент функции `image_dl`, которая, собственно, и заливает программы в Лего-контроллер роботов.

![]({{site.url}}/images/iron-man-movie-2008/004.webp)

А тут, в числах, которые отображаются слева, закодирована небольшая прошивка лего-робота с текстом "`Do you byte, when I knock?`" - это такой интересный способ проверить работоспособность интерфейса: увидев эту команду, контроллер Лего должен ответить "`Just a bit off the block!`".


Костюм "Железного человека" работает на `LEGO`. Забавно.
